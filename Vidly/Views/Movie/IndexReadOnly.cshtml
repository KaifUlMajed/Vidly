
@{
    ViewBag.Title = "Movies";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Movies</h1>
<table id="movies" class="table">
    <thead>
        <tr>
            <th>Name</th>
            <th>Genre</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>


@section scripts
    {
    <script>
    $(document).ready(function () {
        var table = $("#movies").DataTable({
            ajax: {
                url: "/api/movies",
                dataSrc: ""
            },
            columns: [
                {
                    data: "name",
                    render: function (data, type, row) {
                        return "<a href='movie/details/" + row.id + "'>" + row.name + " </a>";
                    }
                },
                {
                    data: 'genre.name'
                }
            ]
        })
        });
    </script>
}
